<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sam AI</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="chat-wrapper">

    <div class="chat-header">
        <h1>ü§ñ Sam AI</h1>
        <p>Your Personal Study Assistant</p>
        <span class="creator">Created by Samir Singh</span>
    </div>

    <div class="chat-body">

        {% if answer %}
            <div class="ai-message">
                <span class="ai-name">Sam AI</span>

                {% if is_image %}
                    <img src="{{ answer }}"
                         style="max-width:100%; border-radius:10px; margin-top:10px;">
                    <br><br>
                    <a href="{{ answer }}" target="_blank">‚¨áÔ∏è Download Image</a>
                {% else %}
                    <pre>{{ answer }}</pre>
                {% endif %}

            </div>
        {% else %}
            <div class="empty-state">
                Ask me anything ‚ú®<br>
                You can also ask for diagrams & images üñºÔ∏è
            </div>
        {% endif %}

    </div>

    <form method="POST" class="chat-input">
        <textarea id="questionBox" name="question"
                  placeholder="Type your question or ask for image..."
                  required></textarea>
        <button type="submit">‚û§</button>
    </form>

</div>

<script>
const textarea = document.getElementById("questionBox");
textarea.addEventListener("keydown", function (e) {
    if (e.key === "Enter" && !e.shiftKey) {
        e.preventDefault();
        this.form.submit();
    }
});
</script>

</body>
</html>
