<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sam AI</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="chat-wrapper">

    <div class="chat-header">
        <h1>ğŸ¤– Sam AI</h1>
        <p>Your Personal Study Assistant</p>
        <span class="creator">Created by Samir Singh</span>
    </div>

    <div class="chat-body">

        {% if result %}
            
            {% if result.type == "text" %}
                <div class="ai-message">
                    <span class="ai-name">Sam AI</span>
                    <pre>{{ result.data }}</pre>
                </div>
            {% elif result.type == "image" %}
                <div class="ai-message">
                    <span class="ai-name">Sam AI</span>
                    <p>Generated Image ğŸ‘‡</p>
                    <img src="{{ result.data }}" alt="AI Generated Image"
                         style="max-width:100%; border-radius:10px; margin-top:10px;">
                    <br><br>
                    <a href="{{ result.data }}" target="_blank" download>
                        â¬‡ï¸ Download Image
                    </a>
                </div>
            {% endif %}

        {% else %}
            <div class="empty-state">
                Ask me anything related to study âœ¨<br>
                (You can also ask for diagrams & images ğŸ–¼ï¸)
            </div>
        {% endif %}

    </div>

    <form method="POST" class="chat-input">
        <textarea id="questionBox"
                  name="question"
                  placeholder="Type your question here or ask for an image..."
                  required></textarea>

        <button type="submit">â¤</button>
    </form>

</div>

<script>
const textarea = document.getElementById("questionBox");

textarea.addEventListener("keydown", function (e) {
    if (e.key === "Enter" && !e.shiftKey) {
        e.preventDefault();
        this.form.submit();
    }
});
</script>

</body>
</html>
